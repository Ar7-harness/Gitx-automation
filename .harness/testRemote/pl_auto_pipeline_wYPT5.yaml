pipeline:
  name: PipelineAuto_CRUDYXl
  identifier: NGPipeAutoNGPipeAutozUbTMtnFMG6RqjolUMUgiDTIy
  projectIdentifier: CDCNGAuto_bEoXz
  orgIdentifier: DoNotDeleteTriggerOrg
  tags: {
    }
  stages:
  - stage:
      name: stage
      identifier: stage
      description: ''
      type: Deployment
      spec:
        deploymentType: Kubernetes
        service:
          serviceRef: svc1
          serviceInputs:
            serviceDefinition:
              type: Kubernetes
              spec:
                artifacts:
                  primary:
                    type: Acr
                    spec:
                      tag: <+input>
        environment:
          environmentRef: env
          deployToAll: false
          infrastructureDefinitions:
          - identifier: Infra
        execution:
          steps:
          - step:
              type: ShellScript
              name: Shell Script
              identifier: ShellScript
              spec:
                shell: Bash
                onDelegate: true
                source:
                  type: Inline
                  spec:
                    script: |-
                      echo <+artifacts.primary.image>
                      echo <+artifacts.primary.tag>
                      echo <+artifacts.primary.type>
                environmentVariables: [
                  ]
                outputVariables: [
                  ]
              timeout: 10m
          rollbackSteps: [
            ]
      tags: {
        }
      failureStrategies:
      - onFailure:
          errors:
          - AllErrors
          action:
            type: StageRollback
